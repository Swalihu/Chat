<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ... (the rest of your head section) ... -->
</head>
<body>
    <style>
        /* ... (your CSS styles) ... */
    </style>
    <h1>PeerJS Chat - User 1</h1>
    <div id="chatBox"></div>
    <input type="text" id="messageInput" placeholder="Type your message">
    <button onclick="sendMessage()">Send</button>

    <script src="https://cdn.jsdelivr.net/npm/peerjs@1.3.2/dist/peerjs.min.js"></script>
    <script>
        const user1Id = "2059b442-12be-46c1-8585-78b5bc96dbf2"; // Unique PeerJS ID for User 1
        let peer; // Declare peer variable globally
        let conn; // Declare connection variable globally

        const chatBox = document.getElementById("chatBox");

        // ... (appendMessage, startChat, and sendMessage functions) ...

        // Function to connect to User 2
        const connectToPeer = () => {
            const remotePeerId = "480cc73d-7cb7-47e1-bb91-57b423a0df7f"; // Set the receiver's PeerJS ID here (User 2's ID)
            conn = peer.connect(remotePeerId);
            conn.on('open', () => {
                console.log('Connected to remote peer:', remotePeerId);
            });

            conn.on('data', (data) => {
                appendMessage(data, 'Other');
            });

            conn.on('error', (err) => {
                console.error('Connection error:', err);
            });
        };

        // Start the chat when the page loads
        startChat();

        // Connect to User 2
        connectToPeer();
    </script>
</body>
</html>

